/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { AngularWeatherWidgetService } from './angular-weather-widget.service';
export class AngularWeatherWidgetComponent {
    /**
     * @param {?} ws
     */
    constructor(ws) {
        this.ws = ws;
        this.height = 'auto';
        this.width = '425px';
        this.backgroundColor = 'rgb(10 10 111)';
        this.isBoxShadow = true;
        this.borderRadius = '5px';
        this.locationFontSize = '40px';
        this.locationFontColor = '#fff';
        this.status = true;
        this.statusFontColor = '#fff';
        this.statusFontSize = '18px';
        this.temperature = true;
        this.tempratureFontColor = '#fff';
        this.tempratureFontSize = '80px';
        this.weatherImages = true;
        this.weatherImageWidth = '100px';
        this.weatherImageHeight = '100px';
        this.geoLocation = false;
        this.location = '';
        this.isWind = true;
        this.isHumidity = true;
        this.windFontColor = '#fff';
        this.windFontSize = '20px';
        this.humidityFontColor = '#fff';
        this.humidityFontSize = '20px';
        this.isLoading = true;
        this.weatherDetails = {
            location: '',
            weather_descriptions: '',
            temperature: '',
            icon: '',
            wind_speed: '',
            humidity: ''
        };
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.checkLocation();
    }
    /**
     * \@description Check whether geolocation or manually added location.
     * @return {?}
     */
    checkLocation() {
        if (this.geoLocation) {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((/**
                 * @param {?} position
                 * @return {?}
                 */
                (position) => {
                    /** @type {?} */
                    var lat = position.coords.latitude;
                    /** @type {?} */
                    var long = position.coords.longitude;
                    this.location = `lat=${lat}&lon=${long}`;
                    this.getWeather(true);
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                    console.warn(error.message);
                }));
            }
            else {
                console.warn(`It seems like Geolocation, which is required for this page, is not enabled in your browser.
        Please use a browser which supports it.`);
            }
        }
        else if (!this.geoLocation && this.location.length < 1) {
            console.warn('Provide  a valid location');
        }
        else {
            this.getWeather(false);
        }
    }
    /**
     * @param {?} isGeoLocation
     * @return {?}
     */
    getWeather(isGeoLocation) {
        if (this.APIKEY) {
            this.ws.getWeatherDetails(isGeoLocation, this.location, this.APIKEY).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            response => {
                this.weatherDetails = {
                    location: response.name,
                    weather_descriptions: response.weather[0].description,
                    temperature: response.main.temp,
                    icon: `http://openweathermap.org/img/wn/${response.weather[0].icon}@2x.png`,
                    wind_speed: response.wind.speed,
                    humidity: response.main.humidity
                };
                this.isLoading = false;
            }), (/**
             * @param {?} err
             * @return {?}
             */
            err => {
                console.warn(err.error.error.message);
            }));
        }
        else {
            console.warn('Invalid APIKEY');
        }
    }
}
AngularWeatherWidgetComponent.decorators = [
    { type: Component, args: [{
                selector: 'angular-weather-widget',
                template: "<div class=\"container\"\r\n  [ngStyle]=\"{ 'width': width , 'height': height, 'background-color': backgroundColor, 'box-shadow': isBoxShadow ? '0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)' : 'none', 'border-radius': borderRadius }\">\r\n  <span *ngIf=\"!isLoading\">\r\n    <div class=\"location\">\r\n      <p [ngStyle]=\"{'font-size': locationFontSize, 'color': locationFontColor}\">{{weatherDetails?.location}}</p>\r\n    </div>\r\n    <div class=\"status\" *ngIf=\"status\">\r\n      <p [ngStyle]=\"{'color': statusFontColor, 'font-size': statusFontSize}\">{{weatherDetails?.weather_descriptions}}\r\n      </p>\r\n    </div>\r\n    <div class=\"temp\" *ngIf=\"temperature\">\r\n      <p [ngStyle]=\"{'color': tempratureFontColor, 'font-size': tempratureFontSize}\">{{weatherDetails?.temperature}}\u00B0 F\r\n      </p>\r\n      <div class=\"weather-images\" *ngIf=\"weatherImages\">\r\n        <img [ngStyle]=\"{'width': weatherImageWidth, 'height': weatherImageHeight }\" alt=\"weather-icon\"\r\n          src=\"{{weatherDetails?.icon}}\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"details\" *ngIf=\"isWind\">\r\n      <p [ngStyle]=\"{'color': windFontColor, 'font-size': windFontSize}\">Wind</p>\r\n      <p class=\"wind\" [ngStyle]=\"{'color': windFontColor, 'font-size': windFontSize}\">{{weatherDetails?.wind_speed}} MPH\r\n      </p>\r\n    </div>\r\n    <div class=\"details\" *ngIf=\"isHumidity\">\r\n      <p [ngStyle]=\"{'color': humidityFontColor, 'font-size': humidityFontSize}\">Humidity</p>\r\n      <p class=\"wind\" [ngStyle]=\"{'color': humidityFontColor, 'font-size': humidityFontSize}\">\r\n        {{weatherDetails?.humidity}} %</p>\r\n    </div>\r\n  </span>\r\n  <span *ngIf=\"isLoading\">\r\n    <div class=\"loading\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n        style=\"margin: auto; background: none; display: block; shape-rendering: auto;\" width=\"50px\" height=\"50px\"\r\n        viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n        <circle cx=\"50\" cy=\"50\" fill=\"none\" stroke=\"#ffffff\" stroke-width=\"10\" r=\"35\"\r\n          stroke-dasharray=\"164.93361431346415 56.97787143782138\">\r\n          <animateTransform attributeName=\"transform\" type=\"rotate\" repeatCount=\"indefinite\" dur=\"1s\"\r\n            values=\"0 50 50;360 50 50\" keyTimes=\"0;1\"></animateTransform>\r\n        </circle>\r\n        <!-- [ldio] generated by https://loading.io/ -->\r\n      </svg>\r\n    </div>\r\n  </span>\r\n</div>\r\n",
                styles: ["p{padding:0;margin:0;word-break:break-all}.container{padding:20px;font-family:roboto}.container .temp{display:flex;justify-content:space-between;white-space:nowrap}.container .details{display:flex;margin-bottom:5px}.container .details .wind{padding-left:10px}"]
            }] }
];
/** @nocollapse */
AngularWeatherWidgetComponent.ctorParameters = () => [
    { type: AngularWeatherWidgetService }
];
AngularWeatherWidgetComponent.propDecorators = {
    APIKEY: [{ type: Input }],
    height: [{ type: Input }],
    width: [{ type: Input }],
    backgroundColor: [{ type: Input }],
    isBoxShadow: [{ type: Input }],
    borderRadius: [{ type: Input }],
    locationFontSize: [{ type: Input }],
    locationFontColor: [{ type: Input }],
    status: [{ type: Input }],
    statusFontColor: [{ type: Input }],
    statusFontSize: [{ type: Input }],
    temperature: [{ type: Input }],
    tempratureFontColor: [{ type: Input }],
    tempratureFontSize: [{ type: Input }],
    weatherImages: [{ type: Input }],
    weatherImageWidth: [{ type: Input }],
    weatherImageHeight: [{ type: Input }],
    geoLocation: [{ type: Input }],
    location: [{ type: Input }],
    isWind: [{ type: Input }],
    isHumidity: [{ type: Input }],
    windFontColor: [{ type: Input }],
    windFontSize: [{ type: Input }],
    humidityFontColor: [{ type: Input }],
    humidityFontSize: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.APIKEY;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.height;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.width;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.backgroundColor;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.isBoxShadow;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.borderRadius;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.locationFontSize;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.locationFontColor;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.status;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.statusFontColor;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.statusFontSize;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.temperature;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.tempratureFontColor;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.tempratureFontSize;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.weatherImages;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.weatherImageWidth;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.weatherImageHeight;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.geoLocation;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.location;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.isWind;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.isHumidity;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.windFontColor;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.windFontSize;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.humidityFontColor;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.humidityFontSize;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.isLoading;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.weatherDetails;
    /** @type {?} */
    AngularWeatherWidgetComponent.prototype.ws;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci13ZWF0aGVyLXdpZGdldC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyMi13ZWF0aGVyLXdpZGdldC8iLCJzb3VyY2VzIjpbImxpYi9hbmd1bGFyLXdlYXRoZXItd2lkZ2V0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFNL0UsTUFBTSxPQUFPLDZCQUE2Qjs7OztJQW1DeEMsWUFBbUIsRUFBK0I7UUFBL0IsT0FBRSxHQUFGLEVBQUUsQ0FBNkI7UUFqQ3pDLFdBQU0sR0FBVyxNQUFNLENBQUM7UUFDeEIsVUFBSyxHQUFXLE9BQU8sQ0FBQztRQUN4QixvQkFBZSxHQUFXLGdCQUFnQixDQUFDO1FBQzNDLGdCQUFXLEdBQVksSUFBSSxDQUFDO1FBQzVCLGlCQUFZLEdBQVcsS0FBSyxDQUFDO1FBQzdCLHFCQUFnQixHQUFXLE1BQU0sQ0FBQztRQUNsQyxzQkFBaUIsR0FBVyxNQUFNLENBQUM7UUFDbkMsV0FBTSxHQUFZLElBQUksQ0FBQztRQUN2QixvQkFBZSxHQUFXLE1BQU0sQ0FBQztRQUNqQyxtQkFBYyxHQUFXLE1BQU0sQ0FBQztRQUNoQyxnQkFBVyxHQUFZLElBQUksQ0FBQztRQUM1Qix3QkFBbUIsR0FBVyxNQUFNLENBQUM7UUFDckMsdUJBQWtCLEdBQVcsTUFBTSxDQUFDO1FBQ3BDLGtCQUFhLEdBQVksSUFBSSxDQUFDO1FBQzlCLHNCQUFpQixHQUFXLE9BQU8sQ0FBQztRQUNwQyx1QkFBa0IsR0FBVyxPQUFPLENBQUM7UUFDckMsZ0JBQVcsR0FBWSxLQUFLLENBQUM7UUFDN0IsYUFBUSxHQUFRLEVBQUUsQ0FBQztRQUNuQixXQUFNLEdBQVksSUFBSSxDQUFDO1FBQ3ZCLGVBQVUsR0FBWSxJQUFJLENBQUM7UUFDM0Isa0JBQWEsR0FBVyxNQUFNLENBQUM7UUFDL0IsaUJBQVksR0FBVyxNQUFNLENBQUM7UUFDOUIsc0JBQWlCLEdBQVcsTUFBTSxDQUFDO1FBQ25DLHFCQUFnQixHQUFXLE1BQU0sQ0FBQztRQUMzQyxjQUFTLEdBQVksSUFBSSxDQUFDO1FBQzFCLG1CQUFjLEdBQUc7WUFDZixRQUFRLEVBQUcsRUFBRTtZQUNiLG9CQUFvQixFQUFFLEVBQUU7WUFDeEIsV0FBVyxFQUFFLEVBQUU7WUFDZixJQUFJLEVBQUUsRUFBRTtZQUNSLFVBQVUsRUFBRSxFQUFFO1lBQ2QsUUFBUSxFQUFFLEVBQUU7U0FDYixDQUFDO0lBQ29ELENBQUM7Ozs7SUFFdkQsUUFBUTtRQUNOLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDOzs7OztJQU1ELGFBQWE7UUFDWCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDcEIsSUFBSSxTQUFTLENBQUMsV0FBVyxFQUFFO2dCQUN6QixTQUFTLENBQUMsV0FBVyxDQUFDLGtCQUFrQjs7OztnQkFBQyxDQUFDLFFBQVEsRUFBRSxFQUFFOzt3QkFDaEQsR0FBRyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUTs7d0JBQzlCLElBQUksR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVM7b0JBQ3BDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxHQUFHLFFBQVEsSUFBSSxFQUFFLENBQUM7b0JBQ3pDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hCLENBQUM7Ozs7Z0JBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtvQkFDWCxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDOUIsQ0FBQyxFQUFDLENBQUM7YUFDSjtpQkFBTTtnQkFDTCxPQUFPLENBQUMsSUFBSSxDQUFDO2dEQUMyQixDQUFDLENBQUM7YUFDM0M7U0FDRjthQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN4RCxPQUFPLENBQUMsSUFBSSxDQUFDLDJCQUEyQixDQUFDLENBQUM7U0FDM0M7YUFBTTtZQUNMLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDeEI7SUFDSCxDQUFDOzs7OztJQUVELFVBQVUsQ0FBQyxhQUFhO1FBQ3RCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNmLElBQUksQ0FBQyxFQUFFLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVM7Ozs7WUFBQyxRQUFRLENBQUMsRUFBRTtnQkFDdkYsSUFBSSxDQUFDLGNBQWMsR0FBRztvQkFDcEIsUUFBUSxFQUFHLFFBQVEsQ0FBQyxJQUFJO29CQUN4QixvQkFBb0IsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVc7b0JBQ3JELFdBQVcsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUk7b0JBQy9CLElBQUksRUFBRSxvQ0FBb0MsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFNBQVM7b0JBQzNFLFVBQVUsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUs7b0JBQy9CLFFBQVEsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVE7aUJBQ2pDLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDekIsQ0FBQzs7OztZQUFFLEdBQUcsQ0FBQyxFQUFFO2dCQUNQLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDeEMsQ0FBQyxFQUFDLENBQUE7U0FDSDthQUFNO1lBQ0wsT0FBTyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1NBQ2hDO0lBQ0gsQ0FBQzs7O1lBMUZGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsd0JBQXdCO2dCQUNsQyxnaEZBQW9EOzthQUVyRDs7OztZQUxRLDJCQUEyQjs7O3FCQU9qQyxLQUFLO3FCQUNMLEtBQUs7b0JBQ0wsS0FBSzs4QkFDTCxLQUFLOzBCQUNMLEtBQUs7MkJBQ0wsS0FBSzsrQkFDTCxLQUFLO2dDQUNMLEtBQUs7cUJBQ0wsS0FBSzs4QkFDTCxLQUFLOzZCQUNMLEtBQUs7MEJBQ0wsS0FBSztrQ0FDTCxLQUFLO2lDQUNMLEtBQUs7NEJBQ0wsS0FBSztnQ0FDTCxLQUFLO2lDQUNMLEtBQUs7MEJBQ0wsS0FBSzt1QkFDTCxLQUFLO3FCQUNMLEtBQUs7eUJBQ0wsS0FBSzs0QkFDTCxLQUFLOzJCQUNMLEtBQUs7Z0NBQ0wsS0FBSzsrQkFDTCxLQUFLOzs7O0lBeEJOLCtDQUFxQjs7SUFDckIsK0NBQWlDOztJQUNqQyw4Q0FBaUM7O0lBQ2pDLHdEQUFvRDs7SUFDcEQsb0RBQXFDOztJQUNyQyxxREFBc0M7O0lBQ3RDLHlEQUEyQzs7SUFDM0MsMERBQTRDOztJQUM1QywrQ0FBZ0M7O0lBQ2hDLHdEQUEwQzs7SUFDMUMsdURBQXlDOztJQUN6QyxvREFBcUM7O0lBQ3JDLDREQUE4Qzs7SUFDOUMsMkRBQTZDOztJQUM3QyxzREFBdUM7O0lBQ3ZDLDBEQUE2Qzs7SUFDN0MsMkRBQThDOztJQUM5QyxvREFBc0M7O0lBQ3RDLGlEQUE0Qjs7SUFDNUIsK0NBQWdDOztJQUNoQyxtREFBb0M7O0lBQ3BDLHNEQUF3Qzs7SUFDeEMscURBQXVDOztJQUN2QywwREFBNEM7O0lBQzVDLHlEQUEyQzs7SUFDM0Msa0RBQTBCOztJQUMxQix1REFPRTs7SUFDVSwyQ0FBc0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQW5ndWxhcldlYXRoZXJXaWRnZXRTZXJ2aWNlIH0gZnJvbSAnLi9hbmd1bGFyLXdlYXRoZXItd2lkZ2V0LnNlcnZpY2UnO1xyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FuZ3VsYXItd2VhdGhlci13aWRnZXQnLFxyXG4gIHRlbXBsYXRlVXJsOiAnYW5ndWxhci13ZWF0aGVyLXdpZGdldC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJ2FuZ3VsYXItd2VhdGhlci13aWRnZXQuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQW5ndWxhcldlYXRoZXJXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBJbnB1dCgpIEFQSUtFWTogYW55O1xyXG4gIEBJbnB1dCgpIGhlaWdodDogc3RyaW5nID0gJ2F1dG8nO1xyXG4gIEBJbnB1dCgpIHdpZHRoOiBzdHJpbmcgPSAnNDI1cHgnO1xyXG4gIEBJbnB1dCgpIGJhY2tncm91bmRDb2xvcjogc3RyaW5nID0gJ3JnYigxMCAxMCAxMTEpJztcclxuICBASW5wdXQoKSBpc0JveFNoYWRvdzogYm9vbGVhbiA9IHRydWU7XHJcbiAgQElucHV0KCkgYm9yZGVyUmFkaXVzOiBzdHJpbmcgPSAnNXB4JztcclxuICBASW5wdXQoKSBsb2NhdGlvbkZvbnRTaXplOiBzdHJpbmcgPSAnNDBweCc7XHJcbiAgQElucHV0KCkgbG9jYXRpb25Gb250Q29sb3I6IHN0cmluZyA9ICcjZmZmJztcclxuICBASW5wdXQoKSBzdGF0dXM6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIEBJbnB1dCgpIHN0YXR1c0ZvbnRDb2xvcjogc3RyaW5nID0gJyNmZmYnO1xyXG4gIEBJbnB1dCgpIHN0YXR1c0ZvbnRTaXplOiBTdHJpbmcgPSAnMThweCc7XHJcbiAgQElucHV0KCkgdGVtcGVyYXR1cmU6IEJvb2xlYW4gPSB0cnVlO1xyXG4gIEBJbnB1dCgpIHRlbXByYXR1cmVGb250Q29sb3I6IHN0cmluZyA9ICcjZmZmJztcclxuICBASW5wdXQoKSB0ZW1wcmF0dXJlRm9udFNpemU6IHN0cmluZyA9ICc4MHB4JztcclxuICBASW5wdXQoKSB3ZWF0aGVySW1hZ2VzOiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoKSB3ZWF0aGVySW1hZ2VXaWR0aDogc3RyaW5nID0gJzEwMHB4JztcclxuICBASW5wdXQoKSB3ZWF0aGVySW1hZ2VIZWlnaHQ6IHN0cmluZyA9ICcxMDBweCc7XHJcbiAgQElucHV0KCkgZ2VvTG9jYXRpb246IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKSBsb2NhdGlvbjogYW55ID0gJyc7XHJcbiAgQElucHV0KCkgaXNXaW5kOiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoKSBpc0h1bWlkaXR5OiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoKSB3aW5kRm9udENvbG9yOiBzdHJpbmcgPSAnI2ZmZic7XHJcbiAgQElucHV0KCkgd2luZEZvbnRTaXplOiBzdHJpbmcgPSAnMjBweCc7XHJcbiAgQElucHV0KCkgaHVtaWRpdHlGb250Q29sb3I6IHN0cmluZyA9ICcjZmZmJztcclxuICBASW5wdXQoKSBodW1pZGl0eUZvbnRTaXplOiBzdHJpbmcgPSAnMjBweCc7XHJcbiAgaXNMb2FkaW5nOiBib29sZWFuID0gdHJ1ZTtcclxuICB3ZWF0aGVyRGV0YWlscyA9IHtcclxuICAgIGxvY2F0aW9uIDogJycsXHJcbiAgICB3ZWF0aGVyX2Rlc2NyaXB0aW9uczogJycsXHJcbiAgICB0ZW1wZXJhdHVyZTogJycsXHJcbiAgICBpY29uOiAnJyxcclxuICAgIHdpbmRfc3BlZWQ6ICcnLFxyXG4gICAgaHVtaWRpdHk6ICcnXHJcbiAgfTtcclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgd3M6IEFuZ3VsYXJXZWF0aGVyV2lkZ2V0U2VydmljZSkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgdGhpcy5jaGVja0xvY2F0aW9uKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKkBkZXNjcmlwdGlvbiBDaGVjayB3aGV0aGVyIGdlb2xvY2F0aW9uIG9yIG1hbnVhbGx5IGFkZGVkIGxvY2F0aW9uLlxyXG4gICAqL1xyXG5cclxuICBjaGVja0xvY2F0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMuZ2VvTG9jYXRpb24pIHtcclxuICAgICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xyXG4gICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICB2YXIgbGF0ID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xyXG4gICAgICAgICAgdmFyIGxvbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xyXG4gICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGBsYXQ9JHtsYXR9Jmxvbj0ke2xvbmd9YDtcclxuICAgICAgICAgIHRoaXMuZ2V0V2VhdGhlcih0cnVlKTtcclxuICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYEl0IHNlZW1zIGxpa2UgR2VvbG9jYXRpb24sIHdoaWNoIGlzIHJlcXVpcmVkIGZvciB0aGlzIHBhZ2UsIGlzIG5vdCBlbmFibGVkIGluIHlvdXIgYnJvd3Nlci5cclxuICAgICAgICBQbGVhc2UgdXNlIGEgYnJvd3NlciB3aGljaCBzdXBwb3J0cyBpdC5gKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICghdGhpcy5nZW9Mb2NhdGlvbiAmJiB0aGlzLmxvY2F0aW9uLmxlbmd0aCA8IDEpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdQcm92aWRlICBhIHZhbGlkIGxvY2F0aW9uJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdldFdlYXRoZXIoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0V2VhdGhlcihpc0dlb0xvY2F0aW9uKSB7XHJcbiAgICBpZiAodGhpcy5BUElLRVkpIHtcclxuICAgICAgdGhpcy53cy5nZXRXZWF0aGVyRGV0YWlscyhpc0dlb0xvY2F0aW9uLHRoaXMubG9jYXRpb24sIHRoaXMuQVBJS0VZKS5zdWJzY3JpYmUocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHRoaXMud2VhdGhlckRldGFpbHMgPSB7XHJcbiAgICAgICAgICBsb2NhdGlvbiA6IHJlc3BvbnNlLm5hbWUsXHJcbiAgICAgICAgICB3ZWF0aGVyX2Rlc2NyaXB0aW9uczogcmVzcG9uc2Uud2VhdGhlclswXS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIHRlbXBlcmF0dXJlOiByZXNwb25zZS5tYWluLnRlbXAsXHJcbiAgICAgICAgICBpY29uOiBgaHR0cDovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24vJHtyZXNwb25zZS53ZWF0aGVyWzBdLmljb259QDJ4LnBuZ2AsXHJcbiAgICAgICAgICB3aW5kX3NwZWVkOiByZXNwb25zZS53aW5kLnNwZWVkLFxyXG4gICAgICAgICAgaHVtaWRpdHk6IHJlc3BvbnNlLm1haW4uaHVtaWRpdHlcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgIH0sIGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGVyci5lcnJvci5lcnJvci5tZXNzYWdlKTtcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBBUElLRVknKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbiJdfQ==