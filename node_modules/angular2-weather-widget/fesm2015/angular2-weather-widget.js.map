{"version":3,"file":"angular2-weather-widget.js.map","sources":["ng://angular2-weather-widget/lib/config.ts","ng://angular2-weather-widget/lib/angular-weather-widget.service.ts","ng://angular2-weather-widget/lib/angular-weather-widget.component.ts","ng://angular2-weather-widget/lib/angular-weather-widget.module.ts"],"sourcesContent":["export const API = 'https://api.openweathermap.org/data/2.5/weather?';\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { API } from './config';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AngularWeatherWidgetService {\r\n\r\n  constructor(public http: HttpClient) { }\r\n\r\n  getWeatherDetails(isGeoLocation, location, APIKEY) : Observable <any> {\r\n    if(isGeoLocation){\r\n      return this.http.get(`${API}${location}&units=imperial&appid=${APIKEY}`);\r\n    }else{\r\n      return this.http.get(`${API}q=${location}&units=imperial&appid=${APIKEY}`);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { AngularWeatherWidgetService } from './angular-weather-widget.service';\r\n@Component({\r\n  selector: 'angular-weather-widget',\r\n  templateUrl: 'angular-weather-widget.component.html',\r\n  styleUrls: ['angular-weather-widget.component.scss']\r\n})\r\nexport class AngularWeatherWidgetComponent implements OnInit {\r\n  @Input() APIKEY: any;\r\n  @Input() height: string = 'auto';\r\n  @Input() width: string = '425px';\r\n  @Input() backgroundColor: string = 'rgb(10 10 111)';\r\n  @Input() isBoxShadow: boolean = true;\r\n  @Input() borderRadius: string = '5px';\r\n  @Input() locationFontSize: string = '40px';\r\n  @Input() locationFontColor: string = '#fff';\r\n  @Input() status: boolean = true;\r\n  @Input() statusFontColor: string = '#fff';\r\n  @Input() statusFontSize: String = '18px';\r\n  @Input() temperature: Boolean = true;\r\n  @Input() tempratureFontColor: string = '#fff';\r\n  @Input() tempratureFontSize: string = '80px';\r\n  @Input() weatherImages: boolean = true;\r\n  @Input() weatherImageWidth: string = '100px';\r\n  @Input() weatherImageHeight: string = '100px';\r\n  @Input() geoLocation: boolean = false;\r\n  @Input() location: any = '';\r\n  @Input() isWind: boolean = true;\r\n  @Input() isHumidity: boolean = true;\r\n  @Input() windFontColor: string = '#fff';\r\n  @Input() windFontSize: string = '20px';\r\n  @Input() humidityFontColor: string = '#fff';\r\n  @Input() humidityFontSize: string = '20px';\r\n  isLoading: boolean = true;\r\n  weatherDetails = {\r\n    location : '',\r\n    weather_descriptions: '',\r\n    temperature: '',\r\n    icon: '',\r\n    wind_speed: '',\r\n    humidity: ''\r\n  };\r\n  constructor(public ws: AngularWeatherWidgetService) { }\r\n\r\n  ngOnInit() {\r\n    this.checkLocation();\r\n  }\r\n\r\n  /**\r\n   *@description Check whether geolocation or manually added location.\r\n   */\r\n\r\n  checkLocation() {\r\n    if (this.geoLocation) {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n          var lat = position.coords.latitude;\r\n          var long = position.coords.longitude;\r\n          this.location = `lat=${lat}&lon=${long}`;\r\n          this.getWeather(true);\r\n        }, (error) => {\r\n          console.warn(error.message);\r\n        });\r\n      } else {\r\n        console.warn(`It seems like Geolocation, which is required for this page, is not enabled in your browser.\r\n        Please use a browser which supports it.`);\r\n      }\r\n    } else if (!this.geoLocation && this.location.length < 1) {\r\n      console.warn('Provide  a valid location');\r\n    } else {\r\n      this.getWeather(false);\r\n    }\r\n  }\r\n\r\n  getWeather(isGeoLocation) {\r\n    if (this.APIKEY) {\r\n      this.ws.getWeatherDetails(isGeoLocation,this.location, this.APIKEY).subscribe(response => {\r\n        this.weatherDetails = {\r\n          location : response.name,\r\n          weather_descriptions: response.weather[0].description,\r\n          temperature: response.main.temp,\r\n          icon: `http://openweathermap.org/img/wn/${response.weather[0].icon}@2x.png`,\r\n          wind_speed: response.wind.speed,\r\n          humidity: response.main.humidity\r\n        };\r\n        this.isLoading = false;\r\n      }, err => {\r\n        console.warn(err.error.error.message);\r\n      })\r\n    } else {\r\n      console.warn('Invalid APIKEY');\r\n    }\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { AngularWeatherWidgetComponent } from './angular-weather-widget.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AngularWeatherWidgetService } from './angular-weather-widget.service';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n@NgModule({\r\n  declarations: [AngularWeatherWidgetComponent],\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule\r\n  ],\r\n  exports: [AngularWeatherWidgetComponent],\r\n  providers: [AngularWeatherWidgetService]\r\n})\r\nexport class AngularWeatherWidgetModule { }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA,MAAa,GAAG,GAAG,kDAAkD;;;;;;ACArE,MAQa,2BAA2B;;;;IAEtC,YAAmB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;KAAK;;;;;;;IAExC,iBAAiB,CAAC,aAAa,EAAE,QAAQ,EAAE,MAAM;QAC/C,IAAG,aAAa,EAAC;YACf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,QAAQ,yBAAyB,MAAM,EAAE,CAAC,CAAC;SAC1E;aAAI;YACH,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,QAAQ,yBAAyB,MAAM,EAAE,CAAC,CAAC;SAC5E;KACF;;;YAbF,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;YALQ,UAAU;;;;;;;;ACFnB,MAOa,6BAA6B;;;;IAmCxC,YAAmB,EAA+B;QAA/B,OAAE,GAAF,EAAE,CAA6B;QAjCzC,WAAM,GAAW,MAAM,CAAC;QACxB,UAAK,GAAW,OAAO,CAAC;QACxB,oBAAe,GAAW,gBAAgB,CAAC;QAC3C,gBAAW,GAAY,IAAI,CAAC;QAC5B,iBAAY,GAAW,KAAK,CAAC;QAC7B,qBAAgB,GAAW,MAAM,CAAC;QAClC,sBAAiB,GAAW,MAAM,CAAC;QACnC,WAAM,GAAY,IAAI,CAAC;QACvB,oBAAe,GAAW,MAAM,CAAC;QACjC,mBAAc,GAAW,MAAM,CAAC;QAChC,gBAAW,GAAY,IAAI,CAAC;QAC5B,wBAAmB,GAAW,MAAM,CAAC;QACrC,uBAAkB,GAAW,MAAM,CAAC;QACpC,kBAAa,GAAY,IAAI,CAAC;QAC9B,sBAAiB,GAAW,OAAO,CAAC;QACpC,uBAAkB,GAAW,OAAO,CAAC;QACrC,gBAAW,GAAY,KAAK,CAAC;QAC7B,aAAQ,GAAQ,EAAE,CAAC;QACnB,WAAM,GAAY,IAAI,CAAC;QACvB,eAAU,GAAY,IAAI,CAAC;QAC3B,kBAAa,GAAW,MAAM,CAAC;QAC/B,iBAAY,GAAW,MAAM,CAAC;QAC9B,sBAAiB,GAAW,MAAM,CAAC;QACnC,qBAAgB,GAAW,MAAM,CAAC;QAC3C,cAAS,GAAY,IAAI,CAAC;QAC1B,mBAAc,GAAG;YACf,QAAQ,EAAG,EAAE;YACb,oBAAoB,EAAE,EAAE;YACxB,WAAW,EAAE,EAAE;YACf,IAAI,EAAE,EAAE;YACR,UAAU,EAAE,EAAE;YACd,QAAQ,EAAE,EAAE;SACb,CAAC;KACqD;;;;IAEvD,QAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;KACtB;;;;;IAMD,aAAa;QACX,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,SAAS,CAAC,WAAW,EAAE;gBACzB,SAAS,CAAC,WAAW,CAAC,kBAAkB;;;;gBAAC,CAAC,QAAQ;;wBAC5C,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ;;wBAC9B,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS;oBACpC,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,QAAQ,IAAI,EAAE,CAAC;oBACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;iBACvB;;;;gBAAE,CAAC,KAAK;oBACP,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;iBAC7B,EAAC,CAAC;aACJ;iBAAM;gBACL,OAAO,CAAC,IAAI,CAAC;gDAC2B,CAAC,CAAC;aAC3C;SACF;aAAM,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACxD,OAAO,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;SAC3C;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;SACxB;KACF;;;;;IAED,UAAU,CAAC,aAAa;QACtB,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC,aAAa,EAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS;;;;YAAC,QAAQ;gBACpF,IAAI,CAAC,cAAc,GAAG;oBACpB,QAAQ,EAAG,QAAQ,CAAC,IAAI;oBACxB,oBAAoB,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW;oBACrD,WAAW,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI;oBAC/B,IAAI,EAAE,oCAAoC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS;oBAC3E,UAAU,EAAE,QAAQ,CAAC,IAAI,CAAC,KAAK;oBAC/B,QAAQ,EAAE,QAAQ,CAAC,IAAI,CAAC,QAAQ;iBACjC,CAAC;gBACF,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;;;;YAAE,GAAG;gBACJ,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aACvC,EAAC,CAAA;SACH;aAAM;YACL,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SAChC;KACF;;;YA1FF,SAAS,SAAC;gBACT,QAAQ,EAAE,wBAAwB;gBAClC,ghFAAoD;;aAErD;;;;YALQ,2BAA2B;;;qBAOjC,KAAK;qBACL,KAAK;oBACL,KAAK;8BACL,KAAK;0BACL,KAAK;2BACL,KAAK;+BACL,KAAK;gCACL,KAAK;qBACL,KAAK;8BACL,KAAK;6BACL,KAAK;0BACL,KAAK;kCACL,KAAK;iCACL,KAAK;4BACL,KAAK;gCACL,KAAK;iCACL,KAAK;0BACL,KAAK;uBACL,KAAK;qBACL,KAAK;yBACL,KAAK;4BACL,KAAK;2BACL,KAAK;gCACL,KAAK;+BACL,KAAK;;;;;;;AChCR,MAea,0BAA0B;;;YATtC,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,6BAA6B,CAAC;gBAC7C,OAAO,EAAE;oBACP,YAAY;oBACZ,gBAAgB;iBACjB;gBACD,OAAO,EAAE,CAAC,6BAA6B,CAAC;gBACxC,SAAS,EAAE,CAAC,2BAA2B,CAAC;aACzC;;;;;;;;;;;;;;;"}
